# AWSコンソールでRDSを作成する手順

## 📋 ステップバイステップガイド

### Step 1: AWSコンソールにログイン

1. https://console.aws.amazon.com/ にアクセス
2. ログイン

---

### Step 2: RDSコンソールを開く

1. 上部の検索バーで「**RDS**」を検索
2. **Amazon RDS** を選択

---

### Step 3: データベースの作成

1. **「データベース」** → **「データベースの作成」** をクリック

---

### Step 4: データベース設定

#### 4-1. エンジンのタイプ
- ✅ **PostgreSQL** を選択

#### 4-2. バージョン
- ✅ **PostgreSQL 15.x**（最新の安定版）を選択

#### 4-3. テンプレート
- ✅ **開発/テスト**（コスト最適化）を選択

---

### Step 5: 設定

#### 5-1. DB インスタンス識別子
- 入力: `basic-info-study-db`

#### 5-2. マスターユーザー名
- 入力: `postgres`

#### 5-3. マスターパスワード
- **強力なパスワードを設定**（8文字以上、大文字・小文字・数字を含む）
- ⚠️ **必ず記録してください！**（後で使います）

---

### Step 6: インスタンス設定

#### 6-1. DB インスタンスクラス
- ✅ **db.t3.micro**（無料枠）を選択

#### 6-2. ストレージ
- **ストレージタイプ**: General Purpose SSD (gp3)
- **アロケートストレージ**: `20` GB
- ✅ **ストレージの自動スケーリングを有効にする** はオフ（コスト削減のため）

---

### Step 7: 接続設定

#### 7-1. VPC（仮想プライベートクラウド）
- ✅ **デフォルトVPC** を選択

#### 7-2. パブリックアクセス
- ✅ **いいえ** を選択（セキュリティのため）

#### 7-3. VPC セキュリティグループ
- ✅ **新規作成** を選択
- セキュリティグループ名: `rds-postgres-sg`

#### 7-4. 可用性ゾーン
- デフォルトのままでOK

#### 7-5. 既存のVPCセキュリティグループ
- デフォルトのままでOK

---

### Step 8: データベース認証情報

#### 8-1. データベース名
- 入力: `postgres`

#### 8-2. ポート
- デフォルト: `5432`（変更不要）

---

### Step 9: バックアップ設定

#### 9-1. 自動バックアップを有効にする
- ✅ **有効** にチェック

#### 9-2. バックアップ保持期間
- `7` 日間

#### 9-3. バックアップウィンドウ
- デフォルトのままでOK（変更可能）

#### 9-4. コピータグをスナップショットに追加
- オプション（任意）

---

### Step 10: 暗号化

- ✅ **暗号化を有効にする** はオフ（無料枠では不要、ただし必要に応じて有効化可能）

---

### Step 11: モニタリング

- **拡張モニタリングを有効にする** はオフ（無料枠では不要）

---

### Step 12: メンテナンス

- **メンテナンスウィンドウ** はデフォルトのままでOK

---

### Step 13: 作成

1. 画面下部の **「データベースの作成」** をクリック
2. ⏱️ **5-10分待ちます**

---

## 📝 作成後の記録事項

RDSインスタンスが作成されたら、以下の情報を**必ず記録**してください:

### 接続情報

1. **エンドポイント**（例: `basic-info-study-db.xxxxx.ap-northeast-1.rds.amazonaws.com`）
   - RDSコンソール → データベース → `basic-info-study-db` → 「接続とセキュリティ」タブ
   - 「エンドポイント」の値をコピー

2. **ポート**: `5432`

3. **データベース名**: `postgres`

4. **ユーザー名**: `postgres`

5. **パスワード**: （Step 5-3で設定したパスワード）

### DATABASE_URL形式

```
postgresql://postgres:パスワード@エンドポイント:5432/postgres
```

**例:**
```
postgresql://postgres:MySecurePass123!@basic-info-study-db.xxxxx.ap-northeast-1.rds.amazonaws.com:5432/postgres
```

---

## ✅ 作成完了の確認

1. RDSコンソール → データベース
2. `basic-info-study-db` の状態が **「利用可能」** になるまで待つ
3. 状態が「利用可能」になったら、上記の接続情報を記録

---

## 🔄 次のステップ

RDSの作成が完了したら、以下のステップに進みます:

1. Elastic Beanstalk環境の作成
2. 環境変数の設定（DATABASE_URLを含む）
3. セキュリティグループの設定（Elastic BeanstalkからRDSへの接続を許可）

準備ができたら知らせてください！

